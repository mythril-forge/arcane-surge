<h2>Edit Source</h2>

<form action='/sources/{{source._id}}?_method=PUT' method='POST'>

	<div>
		<label for='name'>
			Name
		</label><br />
		<input type='text' name='name' id='name' onkeyup='updateSlug()' onchange='updateSlug()' value='{{source.name}}' />
		{{!-- I don't like how onkeyup and onchange have redundent values. Reduce attributes here? --}}
	</div>

	<div>
		<label for='slug'>
			Slug
		</label><br />
		<input type='text' name='slug' id='slug' value='{{source.slug}}' readonly />
	</div>

	<div>
		<label for='abbreviation'>
			Abbreviation
		</label><br />
		<input type='text' name='abbreviation' id='abbreviation' value='{{source.abbreviation}}' />
		{{!-- abbreviation should only allow [a-z][A-Z] --}}
	</div>

	<div>
		<label for='color'>
			Display Color
		</label><br />
		<input type='color' name='color' id='color' value='{{source.color}}' />
	</div>

	<div>
		<label for='official'>
			Official Source
		</label><br />
		<input type='checkbox' name='official' id='official' value='true' {{#ifeq source.official true}} checked{{/ifeq}} />
		{{!-- come up with a better name for this --}}
		{{!-- toggle button would be best for a singular yes/no query --}}
	</div>

	<fieldset id='carbon-copy'>
		<legend>
			Carbon Copies
		</legend>
		{{!-- come up with a better name for this --}}
		{{#each library}}
		<div>
			<input type='checkbox' name='carbon-copy.source' id='carbon-copy-{{this.slug}}' value='{{this._id}}' />
			<label for='carbon-copy-{{this.slug}}'>
				{{this.name}}
			</label>
		</div>
		{{/each}}
	</fieldset>

	<button type='submit'>
		Submit
	</button>

</form>

<script src='/js/source-new.js'></script>